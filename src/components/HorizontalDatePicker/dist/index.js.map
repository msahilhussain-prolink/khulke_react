{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Waypoint } from 'react-waypoint'\nimport './ReactHorizontalDatePicker.css'\nimport {\n  format,\n  addWeeks,\n  subWeeks,\n  addDays,\n  subDays,\n  isSameDay,\n  isBefore,\n  getDate\n} from 'date-fns'\n\nexport default React.memo(function ReactHorizontalDatePicker({\n  enableDays,\n  enableDaysBefore,\n  enableScroll,\n  selectedDay\n}) {\n  const [selectedDate, setSelectedDate] = useState(new Date())\n  const [headingDate, setHeadingDate] = useState(new Date())\n  const [currentWeek, setCurrentWeek] = useState(new Date())\n  const [currentDate] = useState(new Date())\n  const scrollWidth = 250\n  enableScroll = enableScroll || false\n  enableDays = enableScroll === true ? enableDays || 90 : 7\n  enableDaysBefore = enableScroll === true ? enableDaysBefore || 0 : 0\n  \n  const heading_dateFormat = 'MMM yyyy'\n\n  useEffect(() => {\n    console.log(headingDate)\n  }, [headingDate])\n\n  const applyStyles = (day) => {\n    const classes = []\n    if (isSameDay(day, selectedDate)) {\n      classes.push(' date-day-Item-selected')\n    }\n\n    if (isBefore(day, currentDate)) {\n      classes.push(' date-day-item-disabled')\n    }\n    return classes.join(' ')\n  }\n\n  const _handlePosition = (pos, date) => {\n    let currentPosition = pos.currentPosition\n    let previousPosition = pos.previousPosition\n\n    if (previousPosition == 'inside' && currentPosition == 'above') {\n      setHeadingDate(date)\n    }\n    if (previousPosition == 'above' && currentPosition == 'inside') {\n      setHeadingDate(addDays(date, -1))\n    }\n  }\n\n  const _verticalList = () => {\n    const _dayFormat = 'E'\n    const _dateFormat = 'dd'\n    const _monthFormat = 'MMM'\n    const _verticalListItems = []\n    const _startDay = subDays(currentWeek, 1)\n\n    for (let i = -  Math.abs(enableDaysBefore); i < enableDays; i++) {\n      let _day = format(addDays(_startDay, i), _dayFormat)\n      let _date = format(addDays(_startDay, i), _dateFormat)\n      let _month = format(addDays(_startDay, i), _monthFormat)\n\n      _verticalListItems.push(\n        <Waypoint\n          key={i}\n          horizontal={true}\n          onPositionChange={(pos) =>\n            _date == 1 ? _handlePosition(pos, addDays(_startDay, i)) : ''\n          }\n        >\n          <div className='wrapper'>\n            {format(addDays(_startDay, i), _dateFormat) == 1 ? (\n              <div className='scroll-head'>\n                {format(addDays(_startDay, i), 'MMM')}\n              </div>\n            ) : (\n              <div className='blank-space-div'></div>\n            )}\n            <div\n              className={`datepicker-date-day-Item wrapper ${applyStyles(\n                addDays(_startDay, i)\n              )}`}\n              onClick={() => onDateClick(addDays(_startDay, i))}\n            >\n              <div className='datepicker-day-label '>{_day}</div>\n              <div className='datepicker-date-label ripple '>{_date}</div>\n            </div>\n          </div>\n        </Waypoint>\n      )\n    }\n\n    return (\n      <div\n        id='container'\n        className={\n          enableScroll === true\n            ? ' datepicker-datelist-scrollable'\n            : ' datepicker-dateList'\n        }\n      >\n        {_verticalListItems}\n      </div>\n    )\n  }\n\n  const onDateClick = (day) => {\n    setSelectedDate(day)\n    selectedDay(selectedDate)\n  }\n\n  const nextScroll = () => {\n    enableScroll\n      ? (document.getElementById('container').scrollLeft += scrollWidth)\n      : setCurrentWeek(addWeeks(currentWeek, 1))\n  }\n\n  const prevScroll = () => {\n    enableScroll\n      ? (document.getElementById('container').scrollLeft -= scrollWidth)\n      : setCurrentWeek(subWeeks(currentWeek, 1))\n  }\n\n  return (\n    <div className='datepicker-strip'>\n      <span className='datepicker-month-label '>\n        {format(selectedDate, 'dd MMM yyy')}\n      </span>\n      <div className='datepicker'>\n        <div className='wrapper'>\n          <div className='scroll-head'>{format(headingDate, 'MMM')}</div>\n          <div className='button-previous'>\n            {' '}\n            <button className='datepicker-button-previous' onClick={prevScroll}>\n              &#10132;\n            </button>\n          </div>\n        </div>\n        {_verticalList()}\n        <div className='wrapper'>\n          <div className='blank-space-div'></div>\n\n          <div className='button-previous'>\n            {' '}\n            <button className='datepicker-button-next' onClick={nextScroll}>\n              &#10132;\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n})\n"],"names":["React","memo","ReactHorizontalDatePicker","enableDays","enableDaysBefore","enableScroll","selectedDay","useState","Date","selectedDate","setSelectedDate","headingDate","setHeadingDate","currentWeek","setCurrentWeek","currentDate","scrollWidth","useEffect","console","log","applyStyles","day","classes","isSameDay","push","isBefore","join","_handlePosition","pos","date","currentPosition","previousPosition","addDays","_verticalList","_dayFormat","_dateFormat","_monthFormat","_verticalListItems","_startDay","subDays","i","_day","format","_date","_month","Waypoint","onDateClick","Math","abs","nextScroll","document","getElementById","scrollLeft","addWeeks","prevScroll","subWeeks"],"mappings":"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"}